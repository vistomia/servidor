{"version":3,"file":"js/219.7027432a.js","mappings":"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","sources":["webpack://app/./src/views/ConsoleView.vue","webpack://app/./src/components/AppConsole.vue","webpack://app/./src/components/AppConsole.vue?0dcd","webpack://app/./src/views/ConsoleView.vue?e232"],"sourcesContent":["<template>\r\n    <AppConsole></AppConsole>\r\n</template>\r\n\r\n<script>\r\nimport AppConsole from '@/components/AppConsole.vue';\r\n\r\nexport default {\r\n    name: 'ConsoleView',\r\n    components: {\r\n        AppConsole\r\n    }\r\n}\r\n</script>\r\n","<template>\r\n    <div class=\"console\">\r\n        <div class=\"console-title container\">\r\n            <span>Console</span>\r\n        </div>\r\n        <div class=\"console-window container\">\r\n            <div id=\"data-container\" class=\"font-monospace scrollable-div\" @wheel=\"alo\">\r\n                <div v-for=\"log in logs\" :key=\"log.timestamp\">\r\n                    <span>{{ log.message }}</span>\r\n                </div>\r\n            </div>\r\n            <div class=\"container\">\r\n                <span>/</span> <input @keydown=\"keyListener\" v-model=\"command\" id=\"command\" type=\"text\" ref=\"commandInput\"/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    const endpoint = 'http://localhost:3000/api'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                command: '',\r\n                logs: [],\r\n                buffer: [],\r\n                autoScroll: true\r\n            };\r\n        },\r\n        mounted() {\r\n            this.$nextTick(() => {\r\n                this.$refs.commandInput.focus();\r\n            });\r\n            this.getLogs();\r\n            setInterval(() => this.displayData(), 1000);\r\n        },\r\n        methods: {\r\n            alo(event) {\r\n                console.log(event.currentTarget.scrollHeight - event.currentTarget.clientHeight, event.currentTarget.scrollTop)\r\n                this.autoScroll = event.deltaY > 0 && event.currentTarget.scrollTop === event.currentTarget.scrollHeight - event.currentTarget.clientHeight;\r\n            },\r\n            keyListener(event) {\r\n                if (event.key === \"Enter\") {\r\n                    this.logs.push({ message: this.command, timestamp: Date.now() });\r\n                    this.scrollToBottom();\r\n                    fetch(endpoint + '/stdin', {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                        body: JSON.stringify({ command: this.command })\r\n                    })\r\n                        .then(response => response.json())\r\n                        .then(data => {\r\n                            console.log(data);\r\n                        });\r\n                    this.command = '';\r\n                }\r\n            },\r\n            postCommand() {\r\n                console.log('Command: ' + this.command);\r\n            },\r\n            getLogs() {\r\n                fetch(endpoint + '/stdout')\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        this.buffer = data.logs;\r\n                    });\r\n            },\r\n            async displayData() {\r\n                await this.getLogs();\r\n                let log = this.buffer;\r\n                for (let i = 0; i < log.length; i++) {\r\n                    if (this.logs.some(existingLog => existingLog.message === log[i])) continue;\r\n                    this.logs.push({ message: log[i], timestamp: Date.now() });\r\n                    if (this.logs.length > 100) {\r\n                        this.logs.shift();\r\n                    }\r\n                }\r\n                if (this.autoScroll) this.scrollToBottom();\r\n            },\r\n            scrollToBottom() {\r\n                const container = this.$el.querySelector(\"#data-container\");\r\n                container.scrollTop = container.scrollHeight;\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n.scrollable-div {\r\n    width: 100%;\r\n    height: 400px;\r\n    overflow-y: scroll; \r\n    box-sizing: border-box;\r\n    scrollbar-color: #3d464f var(--color-dark);\r\n    scrollbar-width: thin;\r\n    flex-direction: column-reverse;\r\n}\r\n\r\n.console-window {\r\n    font-family: var(--font-main);\r\n    color: var(--color-light);\r\n    background-color: var(--color-dark);\r\n    border-radius: 0px 0px 4px 4px;\r\n    padding-bottom: 8px;\r\n    padding: 0px;\r\n}\r\n\r\n.console-window > div {\r\n    padding-left: 14px;\r\n    padding-right: 14px;\r\n}\r\n\r\n.console-title {\r\n    font-family: var(--font-main);\r\n    color: var(--color-light);\r\n    font-weight: 700;\r\n    background-color: #252F37;\r\n    padding: 8px;\r\n    padding-left: 14px;\r\n    border-radius: 4px 4px 0px 0px;\r\n}\r\n\r\n#command {\r\n    font-family: var(--font-main);\r\n    color: var(--color-light);\r\n    border-style: none;\r\n    background-color: rgba(0,0,0,0);\r\n    outline: none;\r\n    width: calc( 100% - 25px);\r\n    padding-bottom: 14px;\r\n}\r\n</style>","import { render } from \"./AppConsole.vue?vue&type=template&id=fa1ef2c2\"\nimport script from \"./AppConsole.vue?vue&type=script&lang=js\"\nexport * from \"./AppConsole.vue?vue&type=script&lang=js\"\n\nimport \"./AppConsole.vue?vue&type=style&index=0&id=fa1ef2c2&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ConsoleView.vue?vue&type=template&id=590befc9\"\nimport script from \"./ConsoleView.vue?vue&type=script&lang=js\"\nexport * from \"./ConsoleView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createBlock","_component_AppConsole","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","id","onWheel","_cache","args","$options","alo","_Fragment","_renderList","$data","logs","log","key","timestamp","_toDisplayString","message","_hoisted_3","_createTextVNode","onKeydown","keyListener","$event","command","type","ref","endpoint","data","buffer","autoScroll","mounted","this","$nextTick","$refs","commandInput","focus","getLogs","setInterval","displayData","methods","event","console","currentTarget","scrollHeight","clientHeight","scrollTop","deltaY","push","Date","now","scrollToBottom","fetch","method","headers","body","JSON","stringify","then","response","json","postCommand","i","length","some","existingLog","shift","container","$el","querySelector","__exports__","name","components","AppConsole","render"],"sourceRoot":""}